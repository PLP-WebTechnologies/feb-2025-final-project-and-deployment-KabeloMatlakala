<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ShopEasy Admin Dashboard</title>
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../css/header.css">
  <link rel="stylesheet" href="admin.css">
</head>
<body>
  <div class="admin-container">
    <!-- Admin Sidebar -->
    <aside class="admin-sidebar">
      <div class="admin-logo">
        <h2>ShopEasy Admin</h2>
      </div>
      <nav class="admin-nav">
        <ul>
          <li class="active"><a href="#" data-section="dashboard"><span class="icon">üìä</span> Dashboard</a></li>
          <li><a href="#" data-section="products"><span class="icon">üì¶</span> Products</a></li>
          <li><a href="#" data-section="orders"><span class="icon">üõí</span> Orders</a></li>
          <li><a href="#" data-section="categories"><span class="icon">üè∑Ô∏è</span> Categories</a></li>
          <li><a href="#" data-section="settings"><span class="icon">‚öôÔ∏è</span> Settings</a></li>
        </ul>
      </nav>
      <div class="admin-user">
        <div class="user-info">
          <span class="user-name">Admin User</span>
          <a href="#" id="logout-btn">Logout</a>
        </div>
      </div>
    </aside>

    <!-- Admin Content -->
    <main class="admin-content">
      <!-- Admin Header -->
      <header class="admin-header">
        <div class="header-search">
          <input type="text" placeholder="Search...">
          <button type="button">üîç</button>
        </div>
        <div class="header-actions">
          <button type="button" id="notifications-btn">üîî</button>
          <a href="../index.html" target="_blank" class="view-store-btn">View Store</a>
        </div>
      </header>

      <!-- Dashboard Section -->
      <section id="dashboard" class="admin-section active">
        <h1>Dashboard</h1>
        
        <div class="dashboard-stats">
          <div class="stat-card">
            <div class="stat-icon">üì¶</div>
            <div class="stat-content">
              <h3>Total Products</h3>
              <p class="stat-value" id="total-products">0</p>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon">üõí</div>
            <div class="stat-content">
              <h3>Total Orders</h3>
              <p class="stat-value" id="total-orders">0</p>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-content">
              <h3>Revenue</h3>
              <p class="stat-value" id="total-revenue">$0.00</p>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-content">
              <h3>Conversion Rate</h3>
              <p class="stat-value" id="conversion-rate">0%</p>
            </div>
          </div>
        </div>
        
        <div class="dashboard-charts">
          <div class="chart-container">
            <h3>Sales Overview</h3>
            <div class="chart" id="sales-chart">
              <div class="chart-placeholder">
                <p>Sales chart will be displayed here</p>
              </div>
            </div>
          </div>
          
          <div class="chart-container">
            <h3>Top Products</h3>
            <div class="chart" id="products-chart">
              <div class="chart-placeholder">
                <p>Products chart will be displayed here</p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="recent-orders">
          <h3>Recent Orders</h3>
          <table class="admin-table">
            <thead>
              <tr>
                <th>Order ID</th>
                <th>Customer</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="recent-orders-table">
              <tr>
                <td colspan="6" class="loading-message">Loading recent orders...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Products Section -->
      <section id="products" class="admin-section">
        <div class="section-header">
          <h1>Products</h1>
          <button type="button" id="add-product-btn" class="primary-btn">Add New Product</button>
        </div>
        
        <div class="filter-bar">
          <div class="filter-group">
            <label for="product-category-filter">Category:</label>
            <select id="product-category-filter">
              <option value="all">All Categories</option>
            </select>
          </div>
          
          <div class="filter-group">
            <label for="product-stock-filter">Stock:</label>
            <select id="product-stock-filter">
              <option value="all">All</option>
              <option value="in-stock">In Stock</option>
              <option value="low-stock">Low Stock</option>
              <option value="out-of-stock">Out of Stock</option>
            </select>
          </div>
          
          <div class="filter-group">
            <label for="product-sort">Sort By:</label>
            <select id="product-sort">
              <option value="name-asc">Name (A-Z)</option>
              <option value="name-desc">Name (Z-A)</option>
              <option value="price-low">Price (Low to High)</option>
              <option value="price-high">Price (High to Low)</option>
              <option value="stock-low">Stock (Low to High)</option>
              <option value="stock-high">Stock (High to Low)</option>
            </select>
          </div>
          
          <div class="search-group">
            <input type="text" id="product-search" placeholder="Search products...">
            <button type="button">üîç</button>
          </div>
        </div>
        
        <table class="admin-table">
          <thead>
            <tr>
              <th>Image</th>
              <th>Name</th>
              <th>Category</th>
              <th>Price</th>
              <th>Stock</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="products-table">
            <tr>
              <td colspan="6" class="loading-message">Loading products...</td>
            </tr>
          </tbody>
        </table>
        
        <div class="pagination">
          <button type="button" id="prev-page" disabled>Previous</button>
          <span id="page-info">Page 1 of 1</span>
          <button type="button" id="next-page" disabled>Next</button>
        </div>
      </section>

      <!-- Orders Section -->
      <section id="orders" class="admin-section">
        <h1>Orders</h1>
        
        <div class="filter-bar">
          <div class="filter-group">
            <label for="order-status-filter">Status:</label>
            <select id="order-status-filter">
              <option value="all">All Statuses</option>
              <option value="pending">Pending</option>
              <option value="processing">Processing</option>
              <option value="shipped">Shipped</option>
              <option value="delivered">Delivered</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
          
          <div class="filter-group">
            <label for="order-date-filter">Date:</label>
            <select id="order-date-filter">
              <option value="all">All Time</option>
              <option value="today">Today</option>
              <option value="yesterday">Yesterday</option>
              <option value="last-week">Last 7 Days</option>
              <option value="last-month">Last 30 Days</option>
            </select>
          </div>
          
          <div class="filter-group">
            <label for="order-sort">Sort By:</label>
            <select id="order-sort">
              <option value="date-desc">Date (Newest First)</option>
              <option value="date-asc">Date (Oldest First)</option>
              <option value="total-high">Total (High to Low)</option>
              <option value="total-low">Total (Low to High)</option>
            </select>
          </div>
          
          <div class="search-group">
            <input type="text" id="order-search" placeholder="Search orders by ID or customer...">
            <button type="button" id="order-search-btn">üîç</button>
          </div>
        </div>
        
        <table class="admin-table">
          <thead>
            <tr>
              <th>Order ID</th>
              <th>Customer</th>
              <th>Date</th>
              <th>Items</th>
              <th>Total</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="orders-table">
            <tr>
              <td colspan="7" class="loading-message">Loading orders...</td>
            </tr>
          </tbody>
        </table>
        
        <div class="pagination">
          <button type="button" id="orders-prev-page" disabled>Previous</button>
          <span id="orders-page-info">Page 1 of 1</span>
          <button type="button" id="orders-next-page" disabled>Next</button>
        </div>
      </section>

      <!-- Categories Section -->
      <section id="categories" class="admin-section">
        <div class="section-header">
          <h1>Categories</h1>
          <button type="button" id="add-category-btn" class="primary-btn">Add New Category</button>
        </div>
        
        <div class="categories-container">
          <div class="categories-list" id="categories-list">
            <div class="loading-message">Loading categories...</div>
          </div>
          
          <div class="category-form-container">
            <h3 id="category-form-title">Add New Category</h3>
            <form id="category-form">
              <div class="form-group">
                <label for="category-name">Category Name:</label>
                <input type="text" id="category-name" name="name" required>
              </div>
              
              <div class="form-group">
                <label for="category-description">Description:</label>
                <textarea id="category-description" name="description" rows="3"></textarea>
              </div>
              
              <div class="form-actions">
                <button type="button" id="cancel-category-btn" class="secondary-btn">Cancel</button>
                <button type="submit" class="primary-btn">Save Category</button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Settings Section -->
      <section id="settings" class="admin-section">
        <h1>Settings</h1>
        
        <div class="settings-container">
          <div class="settings-sidebar">
            <ul>
              <li class="active"><a href="#general-settings">General</a></li>
              <li><a href="#store-settings">Store</a></li>
              <li><a href="#payment-settings">Payment</a></li>
              <li><a href="#shipping-settings">Shipping</a></li>
              <li><a href="#tax-settings">Tax</a></li>
              <li><a href="#user-settings">User</a></li>
            </ul>
          </div>
          
          <div class="settings-content">
            <div id="general-settings" class="settings-panel active">
              <h2>General Settings</h2>
              <form id="general-settings-form">
                <div class="form-group">
                  <label for="store-name">Store Name:</label>
                  <input type="text" id="store-name" name="store_name" value="ShopEasy">
                </div>
                
                <div class="form-group">
                  <label for="store-email">Store Email:</label>
                  <input type="email" id="store-email" name="store_email" value="contact@shopeasy.com">
                </div>
                
                <div class="form-group">
                  <label for="store-phone">Store Phone:</label>
                  <input type="tel" id="store-phone" name="store_phone" value="+1 (555) 123-4567">
                </div>
                
                <div class="form-group">
                  <label for="store-address">Store Address:</label>
                  <textarea id="store-address" name="store_address" rows="3">123 E-commerce St, Online City, 12345</textarea>
                </div>
                
                <div class="form-actions">
                  <button type="submit" class="primary-btn">Save Settings</button>
                </div>
              </form>
            </div>
            
            <!-- Other settings panels would go here -->
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Product Modal -->
  <div id="product-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="product-modal-title">Add New Product</h2>
        <button type="button" class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="product-form">
          <input type="hidden" id="product-id">
          
          <div class="form-group">
            <label for="product-name">Product Name:</label>
            <input type="text" id="product-name" name="name" required>
          </div>
          
          <div class="form-group">
            <label for="product-price">Price ($):</label>
            <input type="number" id="product-price" name="price" min="0" step="0.01" required>
          </div>
          
          <div class="form-group">
            <label for="product-category">Category:</label>
            <select id="product-category" name="category" required>
              <option value="">Select a category</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="product-stock">Stock:</label>
            <input type="number" id="product-stock" name="stock" min="0" required>
          </div>
          
          <div class="form-group">
            <label for="product-image">Image URL:</label>
            <input type="text" id="product-image" name="image" placeholder="https://example.com/image.jpg">
          </div>
          
          <div class="form-group">
            <label for="product-description">Description:</label>
            <textarea id="product-description" name="description" rows="5" required></textarea>
          </div>
          
          <div class="form-actions">
            <button type="button" id="cancel-product-btn" class="secondary-btn">Cancel</button>
            <button type="submit" class="primary-btn">Save Product</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Order Detail Modal -->
  <div id="order-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Order Details</h2>
        <button type="button" class="close-modal">&times;</button>
      </div>
      <div class="modal-body" id="order-detail-content">
        <div class="loading-message">Loading order details...</div>
      </div>
    </div>
  </div>

  <!-- Order Status Modal -->
  <div id="status-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Update Order Status</h2>
        <button type="button" class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="status-form">
          <input type="hidden" id="status-order-id">
          <div class="form-group">
            <label for="order-status">Status:</label>
            <select id="order-status" name="status" required>
              <option value="pending">Pending</option>
              <option value="processing">Processing</option>
              <option value="shipped">Shipped</option>
              <option value="delivered">Delivered</option>
              <option value="cancelled">Cancelled</option>
            </select>
        </div>
        <div class="form-group">
          <label for="status-notes">Notes (Optional):</label>
          <textarea id="status-notes" name="notes" rows="3"></textarea>
        </div>
        <div class="form-actions">
          <button type="button" id="cancel-status-btn" class="secondary-btn">Cancel</button>
          <button type="submit" class="primary-btn">Update Status</button>
        </div>
      </form>
    </div>
  </div>
</div>

  <!-- Update the script imports to ensure api-client.js is loaded before admin.js -->
  <script src="../js/api-client.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>
